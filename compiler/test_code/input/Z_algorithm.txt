string text = "PatternFindern";

string pattern = "ern";

number lenght = 18;

func_void getZarr = | string str | array_number_ Z|~
  number L = 0;
  number R = 0;
  number k;
   
  for | number i = 1 | i<n | i = i+1| ~
    if|i>R|~
	L=i;
	R=i;
	
	while | R<n && str_R-L_ == str_R_|~
	  R = R+1;
 	~ 
	Z_i_ = R-L;
	R--;

   ~
    else ~
      k = i-L;
      if|Z_k_ < R-i+1|~
	Z_i_ = Z_k_;
      ~
      else ~
	L = i;
      ~
      while|R<n && str_R-L_ == str_R_|~
	R = R+1;
      ~
      Z_i_ = R-L;
      R = R-1;
    ~
  ~




func_void search = |string text | string pattern |~
  string concat = pattern + "$" + text;  
  

  array_number_ Z; 
  

  getZarr| concat | Z |;
  for | number i = 0 | i<1 | i = i + 1|~
    if | Z_i_ == lenght | 
       print "Pattern found at index ";
       print (i-lenght-1);
  ~
~




search |text|pattern|